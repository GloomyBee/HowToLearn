感谢你提供 Zotero Integration 插件的设置界面截图！从图片中可以看到 Zotero Integration 插件的部分设置，包括 **General Settings**、**Citation Formats**、**Import Formats**、**Import Image Settings**、**Image OCR** 等部分。结合你的需求（高效配合 Zotero 和 Reference Map 管理 Deep Ritz 方法文献），我将指导你完成 Zotero Integration 插件的设置，确保你能够方便地在 Obsidian 中插入 Zotero 文献的 citekey，并与 Reference Map 插件无缝协作。

---

### 目标：配置 Zotero Integration 以高效引用 Zotero 文献

我们希望实现以下目标：
1. 正确连接 Zotero 数据库，确保 Zotero Integration 插件可以访问你的文献库。
2. 配置 Citation Format 和 Import Format，以便快速插入 citekey（如 `@e2017deep`）并与 Reference Map 兼容。
3. 优化设置以支持文献导入和注解提取（如果需要）。
4. 确保 Zotero Integration 和 Reference Map 插件协作顺畅。

以下是详细的配置步骤。

---

### 步骤 1：完成 Zotero Integration 的 General Settings

#### 1.1 PDF Utility（PDF 工具）
- **当前状态**：未设置。
- **建议**：下载并设置 `pdfannots2json`。
  - **原因**：Zotero Integration 插件需要 `pdfannots2json` 工具来提取 PDF 注解（例如高亮、注释）。虽然你可能不立即需要提取注解，但设置好这个工具可以为将来使用打下基础。
  - **操作步骤**：
    1. 点击 **Download** 按钮，跳转到 `pdfannots2json` 的下载页面（通常是 GitHub 仓库）。
    2. 根据你的操作系统（Windows、Mac 或 Linux）下载对应的二进制文件（例如 `pdfannots2json.exe`）。
    3. 将下载的文件放置到一个固定路径，例如 `C:/Program Files/pdfannots2json/pdfannots2json.exe`（Windows）或 `/usr/local/bin/pdfannots2json`（Mac/Linux）。
    4. 返回 Zotero Integration 设置，在 **Override the PDF utility path** 中填写该路径（例如 `C:/Program Files/pdfannots2json/pdfannots2json.exe`）。

#### 1.2 Database（数据库）
- **当前设置**：Zotero。
- **建议**：保持默认（Zotero）。
  - **原因**：你已经在使用 Zotero 管理文献（包括 Deep Ritz 方法相关文献），选择 Zotero 作为数据库是最直接的方式。
  - **额外建议**：
    - 确保 Zotero 正在运行（Zotero 需要在后台运行以支持 API 通信）。
    - 如果你使用 Zotero 的云同步，确保文献库已同步到本地。

#### 1.3 Note Import Location（笔记导入位置）
- **当前设置**：未设置。
- **建议**：设置为 `literature-notes`。
  - **原因**：Zotero Integration 可以从 Zotero 导入文献笔记（例如文献的元数据、摘要、PDF 注解等），指定一个文件夹（如 `literature-notes`）可以让这些笔记更有条理。
  - **操作步骤**：
    1. 在你的 Obsidian vault 中创建一个文件夹，例如 `literature-notes`。
    2. 在设置中输入 `literature-notes`（路径示例：`literature-notes` 或 `folder1/literature-notes`）。

#### 1.4 Open the Created or Updated Note(s) After Import（导入后打开创建或更新的笔记）
- **建议**：**关闭（Toggle OFF）**。
  - **原因**：如果你批量导入多篇文献（例如 Deep Ritz 方法的全部文献），每次导入后都打开笔记会打断你的工作流。关闭此选项可以避免干扰，之后你可以在 `literature-notes` 文件夹中手动查看。

#### 1.5 Which Notes to Open After Import（导入后打开哪些笔记）
- **当前设置**：First imported note。
- **建议**：保持默认（First imported note）。
  - **原因**：由于你关闭了自动打开笔记的功能，此设置不会影响你的工作流，保持默认即可。

#### 1.6 Enable Annotation Concatenation（启用注解连接）
- **建议**：**关闭（Toggle OFF）**。
  - **原因**：此选项会将 PDF 注解以 `+` 连接并附加到现有注解后。如果你不经常使用 PDF 注解，或者更喜欢单独查看注解，关闭此选项可以避免注解内容混乱。

---

### 步骤 2：配置 Citation Formats

Citation Formats 控制如何插入文献引用（例如 citekey）。我们需要确保插入的格式与 Reference Map 插件兼容。

#### 2.1 Add Citation Format（添加引用格式）
1. 点击 **Add Citation Format** 按钮，创建一个新的引用格式。
2. 配置如下：
   - **Name**：`Pandoc Citation`（或者你喜欢的名称）。
   - **Format**：`@{{citekey}}`。
     - **原因**：Reference Map 插件识别 `@citekey` 格式（例如 `@e2017deep`），这种格式是最兼容的选择。
   - **Example Output**：应该显示为 `@e2017deep`（根据你的文献库中的 citekey）。
3. 确保此格式是默认格式（可以拖动到列表顶部）。

#### 2.2 删除或修改现有格式（可选）
- 如果你不需要其他引用格式（例如默认的 APA 格式），可以点击格式旁边的删除按钮，只保留 `Pandoc Citation` 格式。
- 如果你需要其他格式（例如用于论文写作），可以添加更多格式，例如：
  - **Name**：`APA Citation`。
  - **Format**：`{{author}}, {{year}}`（输出示例：`E & Yu, 2017`）。

---

### 步骤 3：配置 Import Formats

Import Formats 控制从 Zotero 导入文献笔记时的格式（例如元数据、摘要、PDF 注解等）。我们将配置一个适合 Deep Ritz 方法文献管理的格式。

#### 3.1 Add Import Format（添加导入格式）
1. 点击 **Add Import Format** 按钮，创建一个新的导入格式。
2. 配置如下：
   - **Name**：`Literature Note`（或者你喜欢的名称）。
   - **Template**：
     ```
     ---
     title: {{title}}
     authors: {{author}}
     year: {{year}}
     doi: {{doi}}
     keywords: {{tags}}
     citekey: {{citekey}}
     ---
     # {{title}}
     **Authors**: {{author}}  
     **Year**: {{year}}  
     **DOI**: {{doi}}  
     **Abstract**: {{abstractNote}}
     ```
     - **原因**：这个模板包含文献的核心元数据（标题、作者、年份、DOI、关键词、citekey），并以 Markdown 格式组织，便于在 Obsidian 中查看和管理。
   - **Example Output**（根据你的文献库）：
     ```
     ---
     title: The Deep Ritz Method: A Deep Learning-Based Numerical Algorithm for Solving Variational Problems
     authors: E, Weinan and Yu, Bing
     year: 2017
     doi: 10.1007/s40304-018-0147-7
     keywords: Deep Ritz, variational problems, neural networks
     citekey: e2017deep
     ---
     # The Deep Ritz Method: A Deep Learning-Based Numerical Algorithm for Solving Variational Problems
     **Authors**: E, Weinan and Yu, Bing  
     **Year**: 2017  
     **DOI**: 10.1007/s40304-018-0147-7  
     **Abstract**: This paper introduces the Deep Ritz Method...
     ```
3. 确保此格式是默认格式（拖动到列表顶部）。

#### 3.2 导入 PDF 注解（可选）
- 如果你需要在文献笔记中包含 PDF 注解（例如高亮、评论），可以在模板中添加：
  ```
  ## PDF Annotations
  {{pdfAnnotations}}
  ```
- 确保 **PDF Utility** 已正确设置（见步骤 1.1），否则无法提取注解。

---

### 步骤 4：配置 Import Image Settings 和 Image OCR

这些设置用于从 PDF 中提取矩形注解作为图片，并可选地进行 OCR（光学字符识别）提取文本。

#### 4.1 Import Image Settings
1. **Image Format**：
   - **当前设置**：`jpg`。
   - **建议**：保持默认（`jpg`）。
     - **原因**：JPG 格式文件较小，适合存储大量图片。
2. **Image Quality (jpg only)**：
   - **当前设置**：90。
   - **建议**：保持默认（90）。
     - **原因**：90 是一个合理的折衷值，既保证图片质量，又不会占用过多存储空间。
3. **Image DPI**：
   - **当前设置**：120。
   - **建议**：保持默认（120）。
     - **原因**：120 DPI 适合大多数学术用途（例如查看 PDF 图表），不会导致文件过大。

#### 4.2 Image OCR
OCR 功能可以从 PDF 提取的图片中识别文本（例如图表中的文字）。但这需要安装 Tesseract OCR 工具。

1. **Attempt to extract text from images created by rectangle annotations**：
   - **建议**：**关闭（Toggle OFF）**。
     - **原因**：除非你需要频繁从 PDF 图表中提取文字，否则关闭 OCR 可以简化设置，避免安装额外的工具（Tesseract）。如果需要 OCR，可以稍后启用。
   - **如果需要启用**：
     1. 安装 Tesseract OCR：
        - Windows：从 [Tesseract GitHub](https://github.com/UB-Mannheim/tesseract/wiki) 下载安装。
        - Mac：使用 Homebrew 安装，命令为 `brew install tesseract`。
        - Linux：使用包管理器安装，例如 `sudo apt install tesseract-ocr`。
     2. 在 **Tesseract path** 中填写 Tesseract 可执行文件的路径（例如 `/usr/local/bin/tesseract`）。
     3. 在 **Image OCR Language** 中设置语言（例如 `eng` 表示英语，或者 `eng+chi_sim` 表示英语+简体中文）。
     4. 在 **Tesseract data directory** 中设置 Tesseract 的训练数据路径（如果需要）。

---

### 步骤 5：测试 Zotero Integration 和 Reference Map 的协作

#### 5.1 插入 Citekey
1. 打开一个 Obsidian 笔记（例如 `Deep Ritz 方法综述.md`）。
2. 按快捷键 `Ctrl/Cmd + P`，选择 **Zotero Integration: Insert citation**。
3. 搜索文献（例如 `Deep Ritz`），选择 E 和 Yu (2017)，插入 citekey：
   ```
   The Deep Ritz Method was proposed by E and Yu (@e2017deep).
   ```
4. Reference Map 插件会自动识别 `@e2017deep`，并在侧边栏显示文献信息。

#### 5.2 导入文献笔记
1. 按 `Ctrl/Cmd + P`，选择 **Zotero Integration: Import notes**。
2. 搜索文献（例如 `Deep Ritz`），选择 E 和 Yu (2017)，导入笔记。
3. 插件会在 `literature-notes` 文件夹中创建笔记，例如 `E and Yu - 2017 - The Deep Ritz Method.md`：
   ```
   ---
   title: The Deep Ritz Method: A Deep Learning-Based Numerical Algorithm for Solving Variational Problems
   authors: E, Weinan and Yu, Bing
   year: 2017
   doi: 10.1007/s40304-018-0147-7
   keywords: Deep Ritz, variational problems, neural networks
   citekey: e2017deep
   ---
   # The Deep Ritz Method: A Deep Learning-Based Numerical Algorithm for Solving Variational Problems
   **Authors**: E, Weinan and Yu, Bing  
   **Year**: 2017  
   **DOI**: 10.1007/s40304-018-0147-7  
   **Abstract**: This paper introduces the Deep Ritz Method...
   ```
4. 在综述笔记中链接到此文献笔记：
   ```
   The Deep Ritz Method was proposed by E and Yu ([[E and Yu - 2017 - The Deep Ritz Method]]) (@e2017deep).
   ```

#### 5.3 使用 Reference Map 查看引用关系
- 打开 Reference Map 侧边栏，查看 `@e2017deep` 的引用信息（例如被引用的论文）。
- 打开 Reference Map Graph 视图，可视化文献网络（例如 E 和 Yu (2017) 被 Duan 等 (2022) 引用）。

---

### 步骤 6：优化工作流

#### 6.1 设置快捷键
- 在 Obsidian 的 **设置** > **快捷键（Hotkeys）** 中，为 Zotero Integration 的命令设置快捷键：
  - **Insert citation**：`Ctrl/Cmd + Shift + C`。
  - **Import notes**：`Ctrl/Cmd + Shift + N`。

#### 6.2 定期同步 Zotero
- 确保 Zotero 和 Better BibTeX 自动导出功能正常运行，定期检查 `library.bib` 文件是否更新。
- Reference Map 插件会通过 **Auto detect updates to the library** 自动刷新文献库。

#### 6.3 动态参考列表
- 在 Reference Map 设置中启用 **Dynamic Reference List**。
- 在笔记中添加关键词，例如：
  ```
  ---
  keywords: Deep Ritz, neural networks
  ---
  ```
- Reference Map 会根据关键词搜索相关文献，扩展你的文献列表。

---

### 总结：Zotero Integration 设置完成

通过以上配置，你的 Zotero Integration 插件已经设置完成，并与 Reference Map 插件高效协作：
- **PDF Utility**：设置了 `pdfannots2json`（如果需要提取 PDF 注解）。
- **Database**：使用 Zotero 数据库，确保访问你的 Deep Ritz 方法文献。
- **Note Import Location**：指定 `literature-notes` 文件夹，组织导入的文献笔记。
- **Citation Format**：配置为 `@{{citekey}}`，与 Reference Map 兼容。
- **Import Format**：创建了适合文献管理的模板，包含元数据和摘要。
- **Image Settings**：保持默认，适合大多数学术用途。
- **Image OCR**：关闭（除非需要从图片中提取文本）。

#### 优化后的工作流
1. **Zotero 管理文献**：使用 Zotero 和 Better BibTeX 管理文献，自动生成 citekey。
2. **Obsidian 插入引文**：通过 Zotero Integration 插件快速插入 citekey。
3. **Reference Map 显示信息**：插件自动识别 citekey，显示文献信息和引用关系。
4. **动态扩展**：使用动态参考列表发现新文献。

如果你在使用过程中遇到问题（例如 citekey 无法识别、文献导入失败），可以告诉我，我会进一步协助你！