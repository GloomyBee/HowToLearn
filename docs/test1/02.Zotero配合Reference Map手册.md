感谢你的问题！你在使用 Obsidian 的 Reference Map 插件时已经设置了 `library file path`，并且在正文中通过 `@citekey` 引用文献，但需要手动去 BibTeX 文件中查找 citekey，确实不太方便。以下我将详细指导你如何更高效地配合 Zotero 使用 Reference Map 插件，简化引用流程，并避免手动查找 citekey 的麻烦。

---

### 目标：高效配合 Zotero 和 Reference Map 使用

我们希望实现以下目标：
1. 自动从 Zotero 同步文献库到 Obsidian。
2. 在 Obsidian 中快速插入 Zotero 文献的 citekey，无需手动查找。
3. 通过 Reference Map 插件自动识别和显示引文信息。

为此，我们需要结合 Zotero 和 Obsidian 的 **Zotero Integration** 插件（或类似插件），并优化 Reference Map 的设置。以下是详细步骤。

---

### 步骤 1：确保 Zotero 和 Obsidian 环境配置正确

#### 1.1 安装 Zotero 和必要插件
1. **Zotero**：
   - 确保你已安装 Zotero（从 [zotero.org](https://www.zotero.org) 下载）。
   - 在 Zotero 中添加你的 Deep Ritz 方法相关文献（例如 E 和 Yu，2017；Duan 等，2022）。
2. **Zotero 插件：Better BibTeX**：
   - 在 Zotero 中安装 **Better BibTeX** 插件（从 [retorque.re/zotero-better-bibtex](https://retorque.re/zotero-better-bibtex) 下载）。
   - Better BibTeX 插件可以为每篇文献生成唯一的 citekey，并支持自动导出 BibTeX 文件。
   - 安装后，Better BibTeX 会为每篇文献自动生成 citekey（例如 `@e2017deep`），你可以在 Zotero 中查看。

#### 1.2 配置 Better BibTeX
1. 打开 Zotero，点击 **工具（Tools）** > **Better BibTeX** > **Preferences**。
2. 在 **Citation keys** 选项卡中：
   - 确保 **Citation key format** 符合你的需求，默认格式为 `[auth:lower][year]`（例如 `e2017`）。
   - 如果需要更详细的 citekey，可以设置为 `[auth:lower][year][shorttitle:lower]`（例如 `e2017deep`）。
3. 在 **Automatic export** 选项卡中：
   - 启用 **Keep updated**（自动更新导出）。
   - 设置一个 BibTeX 文件路径，例如 `C:/Users/YourName/Zotero/library.bib`。
   - 选择导出的文献库（例如 “My Library”），确保包含你的 Deep Ritz 方法文献。

#### 1.3 确认 BibTeX 文件
- 检查 `library file path` 指向的 BibTeX 文件（例如 `library.bib`），确保它包含你的文献。
- 示例 BibTeX 条目：
  ```
  @article{e2017deep,
    author = {E, Weinan and Yu, Bing},
    title = {The Deep Ritz Method: A Deep Learning-Based Numerical Algorithm for Solving Variational Problems},
    journal = {Communications in Mathematics and Statistics},
    year = {2017},
    doi = {10.1007/s40304-018-0147-7}
  }
  ```
- 如果 BibTeX 文件未正确生成，可以在 Zotero 中手动导出：右键点击文献库，选择 **Export Library**，选择 BibTeX 格式。

---

### 步骤 2：安装和配置 Obsidian 的 Zotero Integration 插件

Zotero Integration 插件可以让你直接从 Obsidian 搜索 Zotero 文献并插入 citekey，避免手动查找 citekey 的麻烦。

#### 2.1 安装 Zotero Integration 插件
1. 打开 Obsidian，进入 **设置（Settings）** > **社区插件（Community Plugins）**。
2. 点击 **浏览（Browse）**，搜索 **Zotero Integration**。
3. 安装并启用 Zotero Integration 插件。

#### 2.2 配置 Zotero Integration 插件
1. 在 Obsidian 的 **设置** > **Zotero Integration** 中：
   - **Zotero Data Directory**：设置 Zotero 数据目录（通常是 `C:/Users/YourName/Zotero`）。
   - **Zotero API**：如果使用 Zotero API，可以设置 API 密钥（可选，适合云同步）。
   - **Citation Format**：选择 **Pandoc citation**（格式为 `@citekey`，与 Reference Map 兼容）。
   - **Import Format**：选择 **Markdown**，以便插入文献信息时使用 Markdown 格式。
   - **Library**：选择你的文献库（例如 “My Library”）。
2. 确保 Zotero 正在运行（Zotero 需要在后台运行以支持 API 通信）。

#### 2.3 测试 Zotero Integration
1. 打开一个 Obsidian 笔记（例如 `Deep Ritz 方法综述.md`）。
2. 按快捷键 `Ctrl/Cmd + P` 打开命令面板。
3. 输入并选择 **Zotero Integration: Insert citation**。
4. 在弹出的搜索框中输入关键词（例如 `Deep Ritz`）。
5. 插件会显示 Zotero 中的匹配文献（例如 E 和 Yu，2017），选择后插入 citekey，例如：
   ```
   The Deep Ritz Method was proposed by E and Yu (@e2017deep).
   ```
6. 插入后，Reference Map 插件会自动识别 `@e2017deep`，并在侧边栏显示文献信息。

---

### 步骤 3：优化 Reference Map 插件设置

你已经设置了 `library file path`，但为了更高效地配合 Zotero，我们需要进一步优化 Reference Map 的设置。

#### 3.1 确认 Library File Path
- 确保 `library file path` 指向 Better BibTeX 自动导出的 BibTeX 文件（例如 `C:/Users/YourName/Zotero/library.bib`）。
- 在 Reference Map 设置中：
  - **Pull bibliography from Zotero**：**开启（Toggle ON）**。
  - **Auto detect updates to the library**：**开启（Toggle ON）**。
    - 这确保插件可以自动检测 Zotero 文献库的更新。

#### 3.2 启用 Citekey 检测
- 在 **Static List Settings** 中：
  - **Find references using the @citekey in the markdown file**：**开启（Toggle ON）**。
  - **Disable citekey detection**：**关闭（Toggle OFF）**。
  - **Process citekeys without @ prefix**：**关闭（Toggle OFF）**。
    - 这些设置确保插件只识别标准的 `@citekey` 格式，避免误识别。

#### 3.3 配置 Citation Format
- 在 **General Settings** 中：
  - **Citation style**：选择与 Zotero 兼容的样式（例如 APA 或 IEEE）。
  - **Citation language**：根据你的写作语言选择（例如中文或英文）。

#### 3.4 启用 Zotero 链接
- 在 **Zotero Integration** 设置中（未展示，但通常存在）：
  - **Show or hide the link to @citekey open item in Zotero**：**开启（Toggle ON）**。
    - 这允许你直接从 Obsidian 跳转到 Zotero 中的文献条目。

---

### 步骤 4：简化正文中的引用流程

通过 Zotero Integration 插件，你无需手动查找 citekey，而是可以直接搜索并插入。以下是具体操作：

#### 4.1 插入 Citekey
1. 在 Obsidian 笔记中（例如 `Deep Ritz 方法综述.md`），定位到需要引用的位置。
2. 按 `Ctrl/Cmd + P` 打开命令面板，选择 **Zotero Integration: Insert citation**。
3. 搜索文献（例如输入 `Deep Ritz` 或 `E 2017`）。
4. 选择目标文献（例如 E 和 Yu，2017），插件会自动插入 citekey，例如：
   ```
   The Deep Ritz Method was proposed by E and Yu (@e2017deep).
   ```

#### 4.2 查看引文信息
- 插入 citekey 后，Reference Map 插件会自动识别 `@e2017deep`，并在侧边栏显示文献信息（标题、作者、年份、DOI 等）。
- 如果需要查看更多信息（例如引用的论文或被引用的论文），可以在侧边栏点击文献卡片。

#### 4.3 批量插入文献信息（可选）
1. 如果你需要插入完整的文献信息（而不是只有 citekey），可以使用 Zotero Integration 插件的 **Import Notes** 功能：
   - 按 `Ctrl/Cmd + P`，选择 **Zotero Integration: Import notes**。
   - 搜索文献并选择后，插件会将文献信息以 Markdown 格式插入，例如：
     ```
     - **E, W., & Yu, B. (2017).** The Deep Ritz Method: A Deep Learning-Based Numerical Algorithm for Solving Variational Problems. *Communications in Mathematics and Statistics*. DOI: 10.1007/s40304-018-0147-7 (@e2017deep)
     ```
2. Reference Map 会识别 `@e2017deep`，并在侧边栏显示相关信息。

---

### 步骤 5：管理 Deep Ritz 方法文献

#### 5.1 创建文献笔记
为每篇文献创建一个 Markdown 文件，并在 YAML 前置元数据中添加信息，例如：
```
---
title: The Deep Ritz Method: A Deep Learning-Based Numerical Algorithm for Solving Variational Problems
authors: E, Weinan and Yu, Bing
year: 2017
doi: 10.1007/s40304-018-0147-7
keywords: Deep Ritz, variational problems, neural networks
citekey: e2017deep
---
```

#### 5.2 引用文献
在综述性笔记中引用文献，例如：
```
## Deep Ritz 方法综述

### 奠基论文
The Deep Ritz Method was proposed by E and Yu (@e2017deep), introducing a deep learning-based approach to solve variational problems.

### 理论改进
Duan et al. (@duan2022convergence) provided a convergence rate analysis for the Deep Ritz Method.
```

#### 5.3 使用 Reference Map 探索引用关系
- 打开 Reference Map 侧边栏，查看 `@e2017deep` 的引用信息（例如被引用的论文）。
- 打开 Reference Map Graph 视图，可视化文献之间的引用网络，例如 E 和 Yu (2017) 被 Duan 等 (2022) 引用。

---

### 步骤 6：优化工作流

#### 6.1 快捷键设置
- 在 Obsidian 的 **设置** > **快捷键（Hotkeys）** 中，为 Zotero Integration 的常用命令设置快捷键：
  - **Insert citation**：例如 `Ctrl/Cmd + Shift + C`。
  - **Import notes**：例如 `Ctrl/Cmd + Shift + N`。
- 这样可以更快速地插入 citekey 或文献信息。

#### 6.2 动态参考列表
- 在 Reference Map 设置中启用 **Dynamic Reference List**。
- 在笔记中添加关键词，例如：
  ```
  ---
  keywords: Deep Ritz, neural networks
  ---
  ```
- Reference Map 会根据关键词搜索相关文献，自动扩展你的文献列表。

#### 6.3 定期同步 Zotero
- 确保 Zotero 和 Better BibTeX 自动导出功能正常运行，定期检查 `library.bib` 文件是否更新。
- 如果文献库有更新，Reference Map 会通过 **Auto detect updates to the library** 自动刷新。

---

### 正确的做法总结

#### 问题：手动查找 citekey 不方便
- **解决**：使用 Zotero Integration 插件直接搜索并插入 citekey，无需手动查找 BibTeX 文件。
- **流程**：
  1. Zotero 中通过 Better BibTeX 自动生成 citekey 并导出 BibTeX 文件。
  2. 在 Obsidian 中使用 Zotero Integration 插件搜索文献并插入 citekey。
  3. Reference Map 自动识别 `@citekey`，并显示文献信息。

#### 优化后的工作流
1. **Zotero 管理文献**：将 Deep Ritz 方法文献添加到 Zotero，Better BibTeX 自动生成 citekey。
2. **Obsidian 插入引文**：通过 Zotero Integration 插件搜索文献并插入 citekey。
3. **Reference Map 显示信息**：插件自动识别 citekey，显示文献信息和引用关系。
4. **动态扩展**：使用动态参考列表功能，基于关键词（如 `Deep Ritz`）发现新文献。

---

### 示例：Deep Ritz 方法综述

#### 笔记内容
```
## Deep Ritz 方法综述

### 奠基论文
The Deep Ritz Method was proposed by E and Yu (@e2017deep), introducing a deep learning-based approach to solve variational problems.

### 理论改进
Duan et al. (@duan2022convergence) provided a convergence rate analysis for the Deep Ritz Method.

### 边界条件改进
Liao and Ming (@liao2021deep) proposed the Deep Nitsche Method to handle essential boundary conditions in the Deep Ritz framework.
```

#### Reference Map 侧边栏
- 识别 `@e2017deep`、`@duan2022convergence` 和 `@liao2021deep`，显示文献信息。
- 显示引用和被引关系，例如 E 和 Yu (2017) 被 Duan 等 (2022) 引用。

#### Reference Map Graph
- 可视化文献网络：E 和 Yu (2017) → Duan 等 (2022) → 其他文献。

---

### 注意事项

1. **Zotero 必须运行**：
   - Zotero Integration 插件需要 Zotero 在后台运行，否则无法搜索文献。

2. **Citekey 格式一致**：
   - 确保 Zotero 和 Obsidian 中的 citekey 格式一致（例如 `@e2017deep`），避免大小写或前缀不匹配。

3. **文献库更新**：
   - 如果你在 Zotero 中添加了新文献，确保 Better BibTeX 自动导出的 BibTeX 文件已更新。

---

### 总结

通过以上配置，你可以高效地配合 Zotero 和 Reference Map 插件使用：
- **Zotero + Better BibTeX**：自动生成 citekey 并导出 BibTeX 文件。
- **Zotero Integration**：在 Obsidian 中快速插入 citekey，无需手动查找。
- **Reference Map**：自动识别 citekey，显示文献信息和引用关系。

这种工作流可以显著减少手动操作，提高文献管理的效率，特别适合管理大量文献（如你的 Deep Ritz 方法研究）。如果你需要进一步优化（例如批量插入文献或生成参考文献列表），可以告诉我，我会继续协助你！