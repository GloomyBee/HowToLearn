# 1什么是container(容器）？
容器（Container）是一种轻量级的虚拟化技术，能够在共享操作系统的情况下，为每个应用程序提供独立的运行环境。容器隔离应用程序和其依赖的所有环境变量（如操作系统库、文件和网络配置），确保应用能够在不同的系统和环境中一致地运行。

### 容器的特点

1. **轻量化**：与传统的虚拟机不同，容器不需要一个完整的操作系统，它与主机操作系统共享资源，因此占用空间更小，启动速度更快。
    
2. **环境一致性**：容器打包了应用及其依赖，确保在不同操作系统上都可以运行，消除环境差异带来的问题（例如开发环境与生产环境不同步的问题）。
    
3. **独立性**：每个容器之间互相隔离，相互不干扰，类似于在同一台计算机上运行多个独立的小型系统。
    
4. **便于扩展**：容器技术支持快速启动和关闭，因此在云计算和微服务架构中，容器非常适合用于快速扩展、动态伸缩以及负载均衡。

# 2.容器与虚拟机

## 2.1容器不是Mini虚拟机

- 容器其实是进程Containers are just processes
    
- 容器中的进程被限制了对CPU内存等资源的访问
    
- 当进程停止后，容器就退出了
## 2.2容器与虚拟机的区别

- **系统开销**：虚拟机需要运行整个操作系统，而容器则直接共享主机的内核，只加载必要的库和依赖，资源利用率更高。
- **启动速度**：容器启动通常在几秒内完成，而虚拟机可能需要几分钟。
- **隔离级别**：虚拟机具有更强的隔离性，因为每个虚拟机有自己的内核，容器则共享主机内核，但可以通过容器技术（如Docker）提供足够的隔离以保证应用安全。

## 2.3容器的应用场景

1. **开发和测试**：容器可以提供一致的开发环境，便于应用的开发和测试。
2. **微服务架构**：在微服务架构中，每个服务通常会被封装到一个容器中，以便独立部署、扩展和管理。
3. **跨平台部署**：开发者可以将容器部署到任何支持容器的操作系统或云平台上，降低跨平台兼容的难度。
4. **持续集成/持续部署（CI/CD）**：容器能够加速构建、测试和部署流程，尤其适用于自动化部署和快速迭代。
# 3在 Windows 系统上安装 Docker

请下载 Docker Desktop for Windows [https://docs.docker.com/docker-for-windows/install/](https://docs.docker.com/docker-for-windows/install/)

- 如果大家的windows10没有安装WSL2的话，请选择 Hyper-V backend and Windows containers
    
- 如果大家的Windows10安装了WSL2，那么请跳到 `安装Windows10 WSL2环境和Docker` 这一节

# 4安装 Windows10 WSL2 环境和 Docker

## youtube[](https://dockertips.readthedocs.io/en/latest/docker-install/win10-wsl2.html#youtube "Permalink to this headline")

[Windows10开发环境搭建(YouTube)](https://www.youtube.com/playlist?list=PLfQqWeOCIH4ACS0037k1KLNIv5f646jbr)

## B站[](https://dockertips.readthedocs.io/en/latest/docker-install/win10-wsl2.html#b "Permalink to this headline")

[Windows10开发环境搭建(B站)](https://space.bilibili.com/364122352/channel/detail?cid=166238)




# 5.docker container run 背后发生了什么？

`$ docker container run -d --publish 80:80 --name webhost nginx`

- 1. 在本地查找是否有nginx这个image镜像，但是没有发现
        
- 2. 去远程的image registry查找nginx镜像（默认的registry是Docker Hub)
        
- 3. 下载最新版本的nginx镜像 （nginx:latest 默认)
        
- 4. 基于nginx镜像来创建一个新的容器，并且准备运行
        
- 5. docker engine分配给这个容器一个虚拟IP地址
        
- 6. 在宿主机上打开80端口并把容器的80端口转发到宿主机上
        
- 7. 启动容器，运行指定的命令（这里是一个shell脚本去启动nginx）